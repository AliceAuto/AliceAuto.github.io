# 计算几何专题
**下面是AI生成，待完善，谨慎食用！！！！**



ACM/ICPC（现为ICPC）竞赛中的**计算几何**题型非常经典，虽然不如图论和动态规划题那么高频，但难度跨度大、考察点丰富，属于偏“技巧”和“细节”的考察方向。大概可以分为以下几个核心模块👇

---

## 🔧 **基础概念**
主要是二维平面上的计算，核心在于“向量”和“叉积”。

### 1. **点、向量、直线**
- 点的表示：`struct Point { double x, y; };`
- 向量运算：
  - 点积（Dot）：`A · B = Ax * Bx + Ay * By`
  - 叉积（Cross）：`A × B = Ax * By - Ay * Bx`
- 判断：
  - 平行、共线（叉积为0）
  - 正交（点积为0）
  
### 2. **基本图形**
- 线段、射线、直线
- 圆、多边形（凸包、凹多边形）

---

## 📏 **基础算法/题型**

### 1. **点与图形的关系**
- 点是否在线段/直线上
- 点在多边形内外（射线法/角度和法）
- 点到直线/线段的距离

### 2. **两直线/线段相交**
- 判断是否相交
- 求交点
- 线段与线段的交点问题
- 判断多边形是否自交

### 3. **凸包（Convex Hull）**
- 常见算法：
  - Graham扫描（O(nlogn)）
  - Andrew算法（又叫Monotone Chain，O(nlogn)）
- 经典问题：
  - 求凸包面积/周长
  - 求凸包上某点
  - 动态凸包

---

## 🔼 **进阶算法/题型**

### 1. **旋转卡壳（Rotating Calipers）**
- 求凸包上的最远点对（最大距离）
- 求凸包的最小矩形覆盖
- 求多边形的宽度

### 2. **半平面交（Half-Plane Intersection）**
- 求多个半平面交的凸包（线性规划几何版）
- O(nlogn)

### 3. **扫描线算法（Sweep Line）**
- 判定线段相交问题（线段树或平衡树优化）
- 求矩形面积并
- 动态维护活动线段集合（树状数组、STL）

### 4. **三角剖分（Triangulation）**
- 多边形的三角化
- 最小权重三角剖分
- Delaunay 三角剖分（复杂度 O(n log n)）

---

## ⚙️ **高阶算法/扩展**

### 1. **最近点对问题**
- O(n log n) 分治法（经典题）
- 最近点对距离（二维、三维）

### 2. **Voronoi 图**
- 基于 Delaunay 三角剖分
- 应用于最近邻查询、区域划分

### 3. **计算几何中的动态问题**
- 动态凸包（平衡树）
- 动态最近点对
- 平面图的动态插入删除

---

## 🧠 **常考问题分类**

| 问题 | 内容 |
|------|------|
| 点在多边形内判定 | 射线法、角度和 |
| 多边形面积 | 叉积公式 |
| 线段交点、相交判定 | 叉积、方向判断 |
| 凸包 | Graham、Andrew |
| 最近点对 | 分治 |
| 半平面交 | 扫描线+双端队列 |
| 旋转卡壳 | 凸包上直径、最小矩形 |
| 矩形并面积 | 扫描线+线段树 |
| 多边形合并与交 | 半平面交、布尔运算 |

---

## 🛠️ **常用模板**
（下面是你 ACM 常备的 C++ 几何模板框架）

```cpp
const double eps = 1e-8;

inline int dcmp(double x) {
    if (fabs(x) < eps) return 0;
    return x < 0 ? -1 : 1;
}

struct Point {
    double x, y;
    Point(double x = 0, double y = 0) : x(x), y(y) {}
    bool operator < (const Point &b) const {
        return dcmp(x - b.x) < 0 || (dcmp(x - b.x) == 0 && dcmp(y - b.y) < 0);
    }
    Point operator - (const Point &b) const {
        return Point(x - b.x, y - b.y);
    }
    double cross(const Point &b) const {
        return x * b.y - y * b.x;
    }
    double dot(const Point &b) const {
        return x * b.x + y * b.y;
    }
};

double distance(Point a, Point b) {
    return sqrt((a - b).dot(a - b));
}
```

---

## 📝 **比赛实用建议**
- 几何题要画图！大部分错误在于“边界情况”和“精度问题”。
- 尽量使用 `dcmp` 函数来避免浮点误差。
- 特别注意精度（`eps`）和 int/long long 与 double 的混用。
- 练习**线段树 + 扫描线**（矩形并面积、动态判交）

---

## 🎯 训练题目推荐
1. **POJ 3525** 半平面交
2. **POJ 3304** 线段与线段的最小距离
3. **POJ 1981** 扫描线矩形面积并
4. **Codeforces 1284D** 凸包判定
5. **HDU 5795** 旋转卡壳

---

想针对某类算法深入一点讲讲吗？比如「凸包实现细节」或者「旋转卡壳模板」？  
还是来几套高质量几何题目练练？🌈